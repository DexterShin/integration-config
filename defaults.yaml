- defaults:
    name: global
    description: |
      <p>Job is managed by <a href="https://www.mediawiki.org/wiki/CI/JJB">Jenkins Job Builder</a>.</p>

    project-type: freestyle

    wrappers:
      - timeout:
          timeout: 360
          fail: true
      - timestamps
      - ansicolor

- defaults:
    name: use-zuul
    # defaults: global

    description: |
      <p>Job is managed by <a href="https://www.mediawiki.org/wiki/CI/JJB">Jenkins Job Builder</a>.</p>
      <p>This job is triggered by Zuul</p>

    project-type: freestyle

    scm:
     - git:
        url: '/srv/ssd/zuul/git/{gerrit-name}'
        branches:
         - '$ZUUL_COMMIT'
        refspec: '$ZUUL_REF'

    wrappers:
      - timeout:
          timeout: 360
          fail: true
      - timestamps
      - ansicolor

- defaults:
    name: use-zuul-for-mw-ext
    # defaults: global

    description: |
      <p>Job is managed by <a href="https://www.mediawiki.org/wiki/CI/JJB">Jenkins Job Builder</a>.</p>
      <p>This job is triggered by Zuul</p>

    project-type: freestyle

    scm:
     - git:
        url: '/srv/ssd/zuul/git/mediawiki/extensions/{ext-name}'
        basedir: 'extensions/{ext-name}'
        branches:
         - '$ZUUL_COMMIT'
        refspec: '$ZUUL_REF'

    wrappers:
      - timeout:
          timeout: 360
          fail: true
      - timestamps
      - ansicolor
