# vim: set ts=2 sw=2 et ai foldmethod=indent:
#
# This is the Zuul configuration file for the Wikimedia Foundation.
#
# Zuul configuration is organised in three main sections:
#
# - pipelines: Abstracts incoming Gerrit events and what to report back in Gerrit.
#
# - jobs: Override the pipeline configuration on a per job basis.
#    This is how we specificy behaviour for individual projects and jobs.
#
# - projects: For each project we specify what jobs to run, in what order jobs
#    should depend on each other and for which pipelines the jobs should run.
#
# See also upstream documentation:
# - http://ci.openstack.org/zuul/zuul.html#layout-yaml
# - http://ci.openstack.org/zuul/zuul.html#configuration


pipelines:
  # Terminology:
  # - silent: For some pipelines, we do not want to report anything back to
  #    Gerrit, this is useful when trying out a new set of filter or when adding
  #    a new repository in the workflow. Zuul still log the results to
  #    /var/log/zuul.log but simply won't report back to Gerrit.
  # - check: Basic testing run on any submission. Votes V+1
  # - test: More elaborate testing run only after CR+2 or when submitte
  #    by a whitelisted user. Votes V+2.

  - name: check
    manager: IndependentPipelineManager
    trigger:
      - event: patchset-created
      - event: comment-added
        comment_filter: (?im)^Patch Set \d+:\n\n\s*recheck\.?\s*$
    success:
      # Only V+1 as these are not elaborate tests. This prevents a change from
      # being merged (requires V+2) before elaborate tests, which vote V+2, have run.
      verified: 1
      code-review: 0
    failure:
      verified: -1
      code-review: 0

  - name: check-voter
    manager: IndependentPipelineManager
    trigger:
      - event: patchset-created
      - event: comment-added
        comment_filter: (?im)^Patch Set \d+:\n\n\s*recheck\.?\s*$
    success:
      verified: 2
      code-review: 0
    failure:
      verified: -1
      code-review: 0

  - name: test
    manager: IndependentPipelineManager
    trigger:
      - event: patchset-created

        # Make sure to use non greedy selectors (.*?) and to escape
        # dots: \.

        email_filter:
         - .*?@wikimedia\.org$
         - .*?@wikimedia\.de$

        # WMF contractors:
         - ^anomie\.wikipedia@gmail\.com$
         - ^amir\.aharoni@mail\.huji\.ac\.il$
         - ^hashar@free\.fr$
         - ^jeroendedauw@gmail\.com$
         - ^maxsem\.wiki@gmail\.com$
         - ^mtraceur@member\.fsf\.org$
         - ^niklas\.laxstrom@gmail\.com$
         - ^s\.mazeland@xs4all\.nl$
         - ^stefan\.petrea@gmail\.com$
         - ^stefan@garage-coding\.com$

        # WMDE:
         - ^aude\.wiki@gmail\.com$

        # Trusted long term users:
         - ^bawolff\+wn@gmail\.com$
         - ^bryan\.tongminh@gmail\.com$
         - ^dereckson@espace-win\.org$
         - ^hartman\.wiki@gmail\.com$
         - ^hoo@online\.de$
         - ^ialex\.wiki@gmail\.com$
         - ^jamesin\.hongkong\.1@gmail\.com$  # Mwjames
         - ^krenair@gmail\.com$
         - ^liangent@gmail\.com$
         - ^mah@everybody\.org$
         - ^matma\.rex@gmail\.com$
         - ^raimond\.spekking@gmail\.com$
         - ^robinp\.1273@gmail\.com$
         - ^tim@tim-landscheidt\.de$
         - ^umherirrender_de\.wp@web\.de$
         - ^yuriastrakhan@gmail\.com$
         - ^yaron57@gmail\.com$
         - ^markus@semantic-mediawiki\.org$
         - ^s7eph4n@gmail\.org$ # Foxtrott

    success:
      verified: 2
      code-review: 0
    failure:
      verified: -1
      code-review: 0

  # Pipelines that only get run when someone trusted has reviewed the code
  # (cr +2). Should be used to run tests and will report verified +2/-2.
  #
  # Silent gate (does not report anything back to Gerrit):
  - name: gate-silent
    manager: IndependentPipelineManager
    trigger:
      - event: comment-added
        approval:
          - code-review: 2

  # Actual gate (report/vote in Gerrit)
  #
  # WARNING: Also update the "gate-and-submit" pipeline when changing this one.
  #
  - name: gate
    manager: IndependentPipelineManager
    trigger:
      - event: comment-added
        approval:
          - code-review: 2
    success:
      verified: 2
      code-review: 0
      # Since people sometime force merge, force message reporting
      force-message: True
    failure:
      verified: -1
      code-review: 0

  # Actual gate (report/vote in Gerrit)
  # Will auto submit change on success!!!!!!!!
  #
  # WARNING: Also update the "gate" pipeline when changing this one.
  #
  - name: gate-and-submit
    manager: IndependentPipelineManager
    trigger:
      - event: comment-added
        approval:
          - code-review: 2
    # Let users know we will submit
    start:
      verified: 0
    success:
      verified: 2
      code-review: 0
      # Since people sometime force merge, force message reporting
      force-message: True
      # Let Zuul merge the change \O/
      submit: true
    failure:
      verified: -1
      code-review: 0

  # Filter the merge events, useful to do regression testing.
  - name: postmerge
    manager: IndependentPipelineManager
    trigger:
      - event: change-merged
# Silented for production deployment
#    success:
#      code-review: 0
#      verified: 0
#      force-message: True
#    failure:
#      code-review: 0
#      verified: 0
#      force-message: True

  # Pipeline reacting whenever some reference is updated
  - name: post
    manager: IndependentPipelineManager
    trigger:
     - event: ref-updated
       ref: ^(?!(devnull|refs/.*)).*$

  # Pipeline for tags (either a new one or a removal)
  - name: publish
    manager: IndependentPipelineManager
    trigger:
     - event: ref-updated
       ref: ^refs/tags/.*$

# Fine tune some jobs
jobs:

  #
  # General
  #

  - name: ^.*-jslint$
    # Non-voting by default (most projects do not pass yet)
    voting: false
    failure-pattern: https://integration.wikimedia.org/ci/job/{job.name}/{build.number}/checkstyleResult/
    success-pattern: https://integration.wikimedia.org/ci/job/{job.name}/{build.number}/checkstyleResult/

  - name: ^.*-pep8$
    # Non-voting (most of our script fail the tests miserably)
    voting: false

  - name: ^.*-pyflakes$
    # do not vote by default
    voting: false

  # PHP CodeSniffer (experimental)
  - name: ^.*-phpcs$
    voting: false
  - name: ^.*-phpcs-HEAD$
    voting: false

  # Rejecting changes having trailing whitespaces cause too many false
  # positives. So only report the whitespace issues, but don't let it vote.
  - name: ^.*-whitespaces$
    voting: false

  # QUnit (experimental)
  - name: ^.*-qunit$
    voting: false

  #
  # Individual adjustments
  #
  - name: integration-docroot-deploy
    branch: ^master$
    success-message: 'Change has been deployed on the server and should be live.'
    failure-message: 'FAILED to deploy change. Please contact a member of the continuous integration team to fixup the docroot on the destination server.'

  - name: 'mwext-VisualEditor-docgen'
    branch: ^master$

  - name: mwext-EventLogging-pep8
    voting: true
  - name: sartoris-pep8
    voting: true
  - name: operations-debs-ircecho-pep8
    voting: true

  - name: operations-debs-ircecho-pyflakes
    voting: true

  - name: mediawiki-core-jslint
    voting: true
    # Doesn't work in MediaWiki REL1_19 (bug 44846)
    branch: (?!REL1_19)
  - name: mwext-PHPExcel-jslint
    voting: true
  - name: mwext-ActiveAbstract-jslint
    voting: true
  - name: mwext-AntiBot-jslint
    voting: true
  - name: mwext-AntiSpoof-jslint
    voting: true
  - name: mwext-Calendar-jslint
    voting: true
  - name: mwext-GlobalBlocking-jslint
    voting: true
  - name: mwext-Math-jslint
    voting: true
  - name: mwext-TemplateSandbox-jslint
    voting: true
  - name: mwext-Translate-jslint
    voting: true
  - name: mwext-PostEdit-jslint
    voting: true
  - name: mwext-VisualEditor-jslint
    voting: true

  - name: mediawiki-core-qunit
    voting: true
    # Doesn't work in MediaWiki REL1_19
    # (times out or doesn't start in the first place).
    branch: (?!REL1_19)

  # CentralNotice does not support SQLite backend :-/
  - name: ^mwext-CentralNotice-testextensions-.*
    voting: false

  # not working yet, might need some dependency
  - name: ^mwext-ContributionTracking-testextensions-.*
    voting: false

  # Echo installer does not support SQLite backend :-/
  - name: ^mwext-Echo-testextensions.*
    voting: false

  # GeoMathTest::testRectWrapAround() fails as of Dec 5th 2012
  - name: ^mwext-GeoData-testextensions.*
    voting: false

  # LabeledSectionTransclusion has only parser tests which does not
  # play well for now. https://gerrit.wikimedia.org/r/#/c/38114 should
  # let PHPUnit load in the parser tests though. See bug 42506.
  - name: ^mwext-LabeledSectionTransclusion-testextensions.*
    voting: false

  # The JsonData phpunit tests are meant to be independant and
  # do not play well with the MediaWiki phpunit wrapper for now :(
  # See also: https://gerrit.wikimedia.org/r/#/c/52292/
  - name: ^mwext-JsonData-testextensions.*
    voting: false

  # Has an insert that introduce multiple values, that requires SQLite
  # version 3.7.11
  - name: ^mwext-PageTriage-testextensions-master
    voting: false

  # Completely broken test suite
  - name: ^mwext-PagedTiffHandler-testextensions-master.*
    voting: false

  # Installer not SQLite compatible :-(
  - name: ^mwext-Survey-testextensions-.*
    voting: false

  - name: mediawiki-core-master-phpunit-all
    branch: ^master$
    success-message: Change looked fine once merged.
    failure-message: ERROR! It seems this job introduced a regression although it might be caused by a previous commit.

  # MediaWiki core regression tests (on merge and per branches):
  - name: ^mediawiki-core-regression-.*
    failure-message: ERROR! It seems this job introduced a regression although it might be caused by a previous commit.
  - name: mediawiki-core-regression-master
    branch: ^master$
  - name: mediawiki-core-regression-REL1_19
    branch: ^REL1_19$
  - name: mediawiki-core-regression-REL1_20
    branch: ^REL1_20$

  # Extensions for which tests are non-functional or absent:
  - name: ^mwext-EtherEditor-testextensions.*
    voting: false
  - name: ^mwext-cldr-testextensions.*
    voting: false
  - name: ^mwext-TranslationNotifications-testextensions.*
    voting: false

# Register the Gerrit project name, apply them pipelines that in turn trigger
# a set of jobs.
projects:
  - name: mediawiki/core
    check:
      - mediawiki-core-merge:
        - mediawiki-core-whitespaces
        - mediawiki-core-phpcs-HEAD
        - mediawiki-core-jslint
        - mediawiki-core-lint
    test:
      - mediawiki-core-merge:
        - mediawiki-core-phpcs-HEAD
        - mediawiki-core-jslint
        - mediawiki-core-lint:
          - mediawiki-core-phpunit-databaseless:
            - mediawiki-core-install-sqlite:
              - mediawiki-core-qunit
              - mediawiki-core-phpunit-api
              - mediawiki-core-phpunit-misc
              - mediawiki-core-phpunit-parser
    gate-and-submit:
      - mediawiki-core-merge:
        - mediawiki-core-phpcs-HEAD
        - mediawiki-core-jslint
        - mediawiki-core-lint:
          - mediawiki-core-phpunit-databaseless:
            - mediawiki-core-install-sqlite:
              - mediawiki-core-qunit
              - mediawiki-core-phpunit-api
              - mediawiki-core-phpunit-misc
              - mediawiki-core-phpunit-parser
    postmerge:
      - mediawiki-core-jslint
      - mediawiki-core-lint
      - mediawiki-core-master-phpunit-all
      - mediawiki-core-regression-master
      - mediawiki-core-regression-REL1_19
      - mediawiki-core-regression-REL1_20
      - mediawiki-core-regression-phpcs
      # - mediawiki-core-docgen

  - name: analytics/libanon
    test:
     - analytics-libanon
    gate:
     - analytics-libanon
    postmerge:
     - analytics-libanon

  - name: analytics/udp-filters
    test:
     - analytics-udp-filters
    gate:
     - analytics-udp-filters
    postmerge:
     - analytics-udp-filters

  - name: analytics/webstatscollector
    test:
     - analytics-webstatscollector
    gate:
     - analytics-webstatscollector
    postmerge:
     - analytics-webstatscollector

  - name: analytics/wikistats
    test:
     - analytics-wikistats
    gate:
     - analytics-wikistats
    postmerge:
     - analytics-wikistats

  - name: labs/nagios-builder
    check-voter:
      - labs-nagios-builder-pep8

  - name: integration/docroot
    postmerge:
     - integration-docroot-deploy

  - name: mediawiki/tools/code-utils
    check-voter:
     - mw-tools-codeutils-pep8
     - mw-tools-codeutils-phplint
    gate-and-submit:
     - mw-tools-codeutils-pep8
     - mw-tools-codeutils-phplint

  - name: operations/apache-config
    # FIXME: convert back to "check" pipeline whenever we have
    # integration tests
    check-voter:
      - operations-apache-config-lint
    gate-and-submit:
      - operations-apache-config-lint

  - name: operations/debs/adminbot
    check:
      - operations-debs-adminbot-pep8
      - operations-debs-adminbot-pyflakes
    gate-and-submit:
      - operations-debs-adminbot-pep8
      - operations-debs-adminbot-pyflakes

  - name: operations/debs/ircecho
    check:
      - operations-debs-ircecho-pep8
      - operations-debs-ircecho-pyflakes
    gate-and-submit:
      - operations-debs-ircecho-pep8
      - operations-debs-ircecho-pyflakes

  - name: operations/debs/lucene-search-2
    test:
     - lucene-search-2-antbuild
    gate-and-submit:
     - lucene-search-2-antbuild

  - name: operations/dumps
    check-voter:
      - operations-dumps-pep8
    gate-and-submit:
      - operations-dumps-pep8

  - name: operations/mediawiki-config
    check:
      - operations-mw-config-phplint
    test:
      - operations-mw-config-phplint:
        - operations-mw-config-tests
    gate-and-submit:
      - operations-mw-config-phplint:
        - operations-mw-config-tests

  - name: operations/puppet
    # Only lint on submission for now, that will be voting
    check-voter:
      - operations-puppet-pep8
      - operations-puppet-typos
      - operations-puppet-validate

  - name: operations/software
    check-voter:
      - operations-software-pep8

  - name: translatewiki
    check:
      - translatewiki-phplint
      - translatewiki-puppet-validate
      - translatewiki-shelllint
    gate-and-submit:
      - translatewiki-phplint
      - translatewiki-puppet-validate
      - translatewiki-shelllint

  - name: wikimedia/bugzilla/wikibugs
    # Only lint on submission for now, that will be voting
    check-voter:
      - wikimedia-bugzilla-wikibugs-perllint

#### MediaWiki extensions ######################################

  - name: mediawiki/extensions/AbuseFilter
    check:
      - mwext-AbuseFilter-merge:
        - mwext-AbuseFilter-jslint
        - mwext-AbuseFilter-lint
    gate-and-submit:
      - mwext-AbuseFilter-merge:
        - mwext-AbuseFilter-jslint
        - mwext-AbuseFilter-lint

  - name: mediawiki/extensions/ActiveAbstract
    check:
      - mwext-ActiveAbstract-merge:
        - mwext-ActiveAbstract-jslint
        - mwext-ActiveAbstract-lint
    test:
      - mwext-ActiveAbstract-merge:
        - mwext-ActiveAbstract-jslint
        - mwext-ActiveAbstract-lint:
          - mwext-ActiveAbstract-testextensions-master
    gate-and-submit:
      - mwext-ActiveAbstract-merge:
        - mwext-ActiveAbstract-jslint
        - mwext-ActiveAbstract-lint:
          - mwext-ActiveAbstract-testextensions-master

  - name: mediawiki/extensions/AdminLinks
    check:
      - mwext-AdminLinks-merge:
        - mwext-AdminLinks-jslint
        - mwext-AdminLinks-lint
    gate-and-submit:
      - mwext-AdminLinks-merge:
        - mwext-AdminLinks-jslint
        - mwext-AdminLinks-lint

  - name: mediawiki/extensions/Agora
    check:
      - mwext-Agora-merge:
        - mwext-Agora-jslint
        - mwext-Agora-lint
    gate-and-submit:
      - mwext-Agora-merge:
        - mwext-Agora-jslint
        - mwext-Agora-lint

  - name: mediawiki/extensions/AntiBot
    check:
      - mwext-AntiBot-merge:
        - mwext-AntiBot-jslint
        - mwext-AntiBot-lint
    gate-and-submit:
      - mwext-AntiBot-merge:
        - mwext-AntiBot-jslint
        - mwext-AntiBot-lint

  - name: mediawiki/extensions/AntiSpoof
    check:
      - mwext-AntiSpoof-merge:
        - mwext-AntiSpoof-jslint
        - mwext-AntiSpoof-lint
    test:
      - mwext-AntiSpoof-merge:
        - mwext-AntiSpoof-jslint
        - mwext-AntiSpoof-lint:
          - mwext-AntiSpoof-testextensions-master
    gate-and-submit:
      - mwext-AntiSpoof-merge:
        - mwext-AntiSpoof-jslint
        - mwext-AntiSpoof-lint:
          - mwext-AntiSpoof-testextensions-master

  - name: mediawiki/extensions/APC
    check:
      - mwext-APC-merge:
        - mwext-APC-jslint
        - mwext-APC-lint
    gate-and-submit:
      - mwext-APC-merge:
        - mwext-APC-jslint
        - mwext-APC-lint

  - name: mediawiki/extensions/ArticleFeedbackv5
    check:
      - mwext-ArticleFeedbackv5-merge:
        - mwext-ArticleFeedbackv5-jslint
        - mwext-ArticleFeedbackv5-lint
    gate-and-submit:
      - mwext-ArticleFeedbackv5-merge:
        - mwext-ArticleFeedbackv5-jslint
        - mwext-ArticleFeedbackv5-lint

  - name: mediawiki/extensions/ApiSandbox
    check:
      - mwext-ApiSandbox-merge:
        - mwext-ApiSandbox-jslint
        - mwext-ApiSandbox-lint
    gate-and-submit:
      - mwext-ApiSandbox-merge:
        - mwext-ApiSandbox-jslint
        - mwext-ApiSandbox-lint

  - name: mediawiki/extensions/Ask
    check:
      - mwext-Ask-merge:
        - mwext-Ask-jslint
        - mwext-Ask-lint
    test:
      - mwext-Ask-merge:
        - mwext-Ask-jslint
        - mwext-Ask-lint:
          - mwext-Ask-testextensions-master
    gate-and-submit:
      - mwext-Ask-merge:
        - mwext-Ask-jslint
        - mwext-Ask-lint:
          - mwext-Ask-testextensions-master

  - name: mediawiki/extensions/Babel
    check:
      - mwext-Babel-merge:
        - mwext-Babel-jslint
        - mwext-Babel-lint
    gate-and-submit:
      - mwext-Babel-merge:
        - mwext-Babel-jslint
        - mwext-Babel-lint

  - name: mediawiki/extensions/BlameMaps
    check:
      - mwext-BlameMaps-merge:
        - mwext-BlameMaps-jslint
        - mwext-BlameMaps-lint
        - mwext-BlameMaps-pep8
    gate-and-submit:
      - mwext-BlameMaps-merge:
        - mwext-BlameMaps-jslint
        - mwext-BlameMaps-lint
        - mwext-BlameMaps-pep8

  - name: mediawiki/extensions/Calendar
    check:
      - mwext-Calendar-merge:
        - mwext-Calendar-jslint
        - mwext-Calendar-lint
    gate-and-submit:
      - mwext-Calendar-merge:
        - mwext-Calendar-jslint
        - mwext-Calendar-lint

  - name: mediawiki/extensions/CategoryTree
    check:
      - mwext-CategoryTree-merge:
        - mwext-CategoryTree-jslint
        - mwext-CategoryTree-lint
    gate-and-submit:
      - mwext-CategoryTree-merge:
        - mwext-CategoryTree-jslint
        - mwext-CategoryTree-lint

  - name: mediawiki/extensions/CharInsert
    check:
      - mwext-CharInsert-merge:
        - mwext-CharInsert-jslint
        - mwext-CharInsert-lint
    gate-and-submit:
      - mwext-CharInsert-merge:
        - mwext-CharInsert-jslint
        - mwext-CharInsert-lint

  - name: mediawiki/extensions/CheckUser
    check:
      - mwext-CheckUser-merge:
        - mwext-CheckUser-jslint
        - mwext-CheckUser-lint
    gate-and-submit:
      - mwext-CheckUser-merge:
        - mwext-CheckUser-jslint
        - mwext-CheckUser-lint

  - name: mediawiki/extensions/Cite
    check:
      - mwext-Cite-merge:
        - mwext-Cite-jslint
        - mwext-Cite-lint
    gate-and-submit:
      - mwext-Cite-merge:
        - mwext-Cite-jslint
        - mwext-Cite-lint

  - name: mediawiki/extensions/cldr
    check:
      - mwext-cldr-merge:
        - mwext-cldr-jslint
        - mwext-cldr-lint
    gate-and-submit:
      - mwext-cldr-merge:
        - mwext-cldr-jslint
        - mwext-cldr-lint:
          - mwext-cldr-testextensions-master

  - name: mediawiki/extensions/CentralAuth
    check:
      - mwext-CentralAuth-merge:
        - mwext-CentralAuth-jslint
        - mwext-CentralAuth-lint
    gate-and-submit:
      - mwext-CentralAuth-merge:
        - mwext-CentralAuth-jslint
        - mwext-CentralAuth-lint

  - name: mediawiki/extensions/CentralNotice
    check:
      - mwext-CentralNotice-merge:
        - mwext-CentralNotice-jslint
        - mwext-CentralNotice-lint
    test:
      - mwext-CentralNotice-merge:
        - mwext-CentralNotice-jslint
        - mwext-CentralNotice-lint:
          - mwext-CentralNotice-testextensions-master
    gate-and-submit:
      - mwext-CentralNotice-merge:
        - mwext-CentralNotice-jslint
        - mwext-CentralNotice-lint:
          - mwext-CentralNotice-testextensions-master

  - name: mediawiki/extensions/CleanChanges
    check:
      - mwext-CleanChanges-merge:
        - mwext-CleanChanges-jslint
        - mwext-CleanChanges-lint
    gate-and-submit:
      - mwext-CleanChanges-merge:
        - mwext-CleanChanges-jslint
        - mwext-CleanChanges-lint

  - name: mediawiki/extensions/ClickTracking
    check:
      - mwext-ClickTracking-merge:
        - mwext-ClickTracking-jslint
        - mwext-ClickTracking-lint
    gate-and-submit:
      - mwext-ClickTracking-merge:
        - mwext-ClickTracking-jslint
        - mwext-ClickTracking-lint

  - name: mediawiki/extensions/ClientSide
    check:
      - mwext-ClientSide-merge:
        - mwext-ClientSide-jslint
        - mwext-ClientSide-lint
    gate-and-submit:
      - mwext-ClientSide-merge:
        - mwext-ClientSide-jslint
        - mwext-ClientSide-lint

  - name: mediawiki/extensions/CodeEditor
    check:
      - mwext-CodeEditor-merge:
        - mwext-CodeEditor-jslint
        - mwext-CodeEditor-lint
    gate-and-submit:
      - mwext-CodeEditor-merge:
        - mwext-CodeEditor-jslint
        - mwext-CodeEditor-lint

  - name: mediawiki/extensions/CodeReview
    check:
      - mwext-CodeReview-merge:
        - mwext-CodeReview-jslint
        - mwext-CodeReview-lint
    test:
      - mwext-CodeReview-merge:
        - mwext-CodeReview-jslint
        - mwext-CodeReview-lint:
          - mwext-CodeReview-testextensions-master
    gate-and-submit:
      - mwext-CodeReview-merge:
        - mwext-CodeReview-jslint
        - mwext-CodeReview-lint:
          - mwext-CodeReview-testextensions-master

  - name: mediawiki/extensions/Collection
    check:
      - mwext-Collection-merge:
        - mwext-Collection-jslint
        - mwext-Collection-lint
    gate-and-submit:
      - mwext-Collection-merge:
        - mwext-Collection-jslint
        - mwext-Collection-lint

  - name: mediawiki/extensions/ConfirmEdit
    check:
      - mwext-ConfirmEdit-merge:
        - mwext-ConfirmEdit-jslint
        - mwext-ConfirmEdit-lint
        - mwext-ConfirmEdit-pep8
    gate-and-submit:
      - mwext-ConfirmEdit-merge:
        - mwext-ConfirmEdit-jslint
        - mwext-ConfirmEdit-lint
        - mwext-ConfirmEdit-pep8

  - name: mediawiki/extensions/ContributionScores
    check:
      - mwext-ContributionScores-merge:
        - mwext-ContributionScores-jslint
        - mwext-ContributionScores-lint
    gate-and-submit:
      - mwext-ContributionScores-merge:
        - mwext-ContributionScores-jslint
        - mwext-ContributionScores-lint

  - name: mediawiki/extensions/CommunityApplications
    check:
      - mwext-CommunityApplications-merge:
        - mwext-CommunityApplications-jslint
        - mwext-CommunityApplications-lint
    gate-and-submit:
      - mwext-CommunityApplications-merge:
        - mwext-CommunityApplications-jslint
        - mwext-CommunityApplications-lint

  - name: mediawiki/extensions/CommunityHiring
    check:
      - mwext-CommunityHiring-merge:
        - mwext-CommunityHiring-jslint
        - mwext-CommunityHiring-lint
    gate-and-submit:
      - mwext-CommunityHiring-merge:
        - mwext-CommunityHiring-jslint
        - mwext-CommunityHiring-lint

  - name: mediawiki/extensions/CommunityVoice
    check:
      - mwext-CommunityVoice-merge:
        - mwext-CommunityVoice-jslint
        - mwext-CommunityVoice-lint
    gate-and-submit:
      - mwext-CommunityVoice-merge:
        - mwext-CommunityVoice-jslint
        - mwext-CommunityVoice-lint

  - name: mediawiki/extensions/ContactPage
    check:
      - mwext-ContactPage-merge:
        - mwext-ContactPage-jslint
        - mwext-ContactPage-lint
    gate-and-submit:
      - mwext-ContactPage-merge:
        - mwext-ContactPage-jslint
        - mwext-ContactPage-lint

  - name: mediawiki/extensions/ContactPageFundraiser
    check:
      - mwext-ContactPageFundraiser-merge:
        - mwext-ContactPageFundraiser-jslint
        - mwext-ContactPageFundraiser-lint
    gate-and-submit:
      - mwext-ContactPageFundraiser-merge:
        - mwext-ContactPageFundraiser-jslint
        - mwext-ContactPageFundraiser-lint

  - name: mediawiki/extensions/ContributionReporting
    check:
      - mwext-ContributionReporting-merge:
        - mwext-ContributionReporting-jslint
        - mwext-ContributionReporting-lint
    gate-and-submit:
      - mwext-ContributionReporting-merge:
        - mwext-ContributionReporting-jslint
        - mwext-ContributionReporting-lint

  - name: mediawiki/extensions/ContributionTracking
    check:
      - mwext-ContributionTracking-merge:
        - mwext-ContributionTracking-jslint
        - mwext-ContributionTracking-lint
    test:
      - mwext-ContributionTracking-merge:
        - mwext-ContributionTracking-jslint
        - mwext-ContributionTracking-lint:
          - mwext-ContributionTracking-testextensions-master
    gate-and-submit:
      - mwext-ContributionTracking-merge:
        - mwext-ContributionTracking-jslint
        - mwext-ContributionTracking-lint:
          - mwext-ContributionTracking-testextensions-master

  - name: mediawiki/extensions/CreditsSource
    check:
      - mwext-CreditsSource-merge:
        - mwext-CreditsSource-jslint
        - mwext-CreditsSource-lint
    gate-and-submit:
      - mwext-CreditsSource-merge:
        - mwext-CreditsSource-jslint
        - mwext-CreditsSource-lint

  - name: mediawiki/extensions/CustomData
    check:
      - mwext-CustomData-merge:
        - mwext-CustomData-jslint
        - mwext-CustomData-lint
    gate-and-submit:
      - mwext-CustomData-merge:
        - mwext-CustomData-jslint
        - mwext-CustomData-lint

  - name: mediawiki/extensions/CustomUserSignup
    check:
      - mwext-CustomUserSignup-merge:
        - mwext-CustomUserSignup-jslint
        - mwext-CustomUserSignup-lint
    gate-and-submit:
      - mwext-CustomUserSignup-merge:
        - mwext-CustomUserSignup-jslint
        - mwext-CustomUserSignup-lint

  - name: mediawiki/extensions/DataValues
    check:
      - mwext-DataValues-merge:
#        - mwext-DataValues-jslint
        - mwext-DataValues-lint
    gate-and-submit:
      - mwext-DataValues-merge:
#        - mwext-DataValues-jslint
        - mwext-DataValues-lint:
          - mwext-DataValues-testextensions-master

  - name: mediawiki/extensions/DonationInterface
    check:
      - mwext-DonationInterface-merge:
        - mwext-DonationInterface-jslint
        - mwext-DonationInterface-lint
    gate-and-submit:
      - mwext-DonationInterface-merge:
        - mwext-DonationInterface-jslint
        - mwext-DonationInterface-lint

  - name: mediawiki/extensions/DeleteBatch
    check:
      - mwext-DeleteBatch-merge:
        - mwext-DeleteBatch-jslint
        - mwext-DeleteBatch-lint
    gate-and-submit:
      - mwext-DeleteBatch-merge:
        - mwext-DeleteBatch-jslint
        - mwext-DeleteBatch-lint

  - name: mediawiki/extensions/Diff
    check:
      - mwext-Diff-merge:
        - mwext-Diff-jslint
        - mwext-Diff-lint
    test:
      - mwext-Diff-merge:
        - mwext-Diff-jslint
        - mwext-Diff-lint:
          - mwext-Diff-testextensions-master
    gate-and-submit:
      - mwext-Diff-merge:
        - mwext-Diff-jslint
        - mwext-Diff-lint:
          - mwext-Diff-testextensions-master

  - name: mediawiki/extensions/DisableAccount
    check:
      - mwext-DisableAccount-merge:
        - mwext-DisableAccount-jslint
        - mwext-DisableAccount-lint
    gate-and-submit:
      - mwext-DisableAccount-merge:
        - mwext-DisableAccount-jslint
        - mwext-DisableAccount-lint

  - name: mediawiki/extensions/DismissableSiteNotice
    check:
      - mwext-DismissableSiteNotice-merge:
        - mwext-DismissableSiteNotice-jslint
        - mwext-DismissableSiteNotice-lint
    gate-and-submit:
      - mwext-DismissableSiteNotice-merge:
        - mwext-DismissableSiteNotice-jslint
        - mwext-DismissableSiteNotice-lint

  - name: mediawiki/extensions/DoubleWiki
    check:
      - mwext-DoubleWiki-merge:
        - mwext-DoubleWiki-jslint
        - mwext-DoubleWiki-lint
    gate-and-submit:
      - mwext-DoubleWiki-merge:
        - mwext-DoubleWiki-jslint
        - mwext-DoubleWiki-lint

  - name: mediawiki/extensions/DynamicSidebar
    check:
      - mwext-DynamicSidebar-merge:
        - mwext-DynamicSidebar-jslint
        - mwext-DynamicSidebar-lint
    gate-and-submit:
      - mwext-DynamicSidebar-merge:
        - mwext-DynamicSidebar-jslint
        - mwext-DynamicSidebar-lint

  - name: mediawiki/extensions/DumpHTML
    check:
      - mwext-DumpHTML-merge:
        - mwext-DumpHTML-jslint
        - mwext-DumpHTML-lint
        - mwext-DumpHTML-pep8
    gate-and-submit:
      - mwext-DumpHTML-merge:
        - mwext-DumpHTML-jslint
        - mwext-DumpHTML-lint
        - mwext-DumpHTML-pep8

  - name: mediawiki/extensions/E3Experiments
    check:
      - mwext-E3Experiments-merge:
        - mwext-E3Experiments-jslint
        - mwext-E3Experiments-lint
    test:
      - mwext-E3Experiments-merge:
        - mwext-E3Experiments-jslint
        - mwext-E3Experiments-lint:
          - mwext-E3Experiments-testextensions-master
    gate-and-submit:
      - mwext-E3Experiments-merge:
        - mwext-E3Experiments-jslint
        - mwext-E3Experiments-lint:
          - mwext-E3Experiments-testextensions-master

  - name: mediawiki/extensions/Echo
    check:
      - mwext-Echo-merge:
        - mwext-Echo-jslint
        - mwext-Echo-lint
    gate-and-submit:
      - mwext-Echo-merge:
        - mwext-Echo-jslint
        - mwext-Echo-lint:
          - mwext-Echo-testextensions-master

  - name: mediawiki/extensions/EditPageTracking
    check:
      - mwext-EditPageTracking-merge:
        - mwext-EditPageTracking-jslint
        - mwext-EditPageTracking-lint
    gate-and-submit:
      - mwext-EditPageTracking-merge:
        - mwext-EditPageTracking-jslint
        - mwext-EditPageTracking-lint

  - name: mediawiki/extensions/EducationProgram
    check:
      - mwext-EducationProgram-merge:
        - mwext-EducationProgram-jslint
        - mwext-EducationProgram-lint
    test:
      - mwext-EducationProgram-merge:
        - mwext-EducationProgram-jslint
        - mwext-EducationProgram-lint:
          - mwext-EducationProgram-testextensions-master
    gate-and-submit:
      - mwext-EducationProgram-merge:
        - mwext-EducationProgram-jslint
        - mwext-EducationProgram-lint:
          - mwext-EducationProgram-testextensions-master

  - name: mediawiki/extensions/EmailCapture
    check:
      - mwext-EmailCapture-merge:
        - mwext-EmailCapture-jslint
        - mwext-EmailCapture-lint
    gate-and-submit:
      - mwext-EmailCapture-merge:
        - mwext-EmailCapture-jslint
        - mwext-EmailCapture-lint

  - name: mediawiki/extensions/EtherEditor
    check:
      - mwext-EtherEditor-merge:
#        - mwext-EtherEditor-jslint
        - mwext-EtherEditor-lint
    gate-and-submit:
      - mwext-EtherEditor-merge:
        - mwext-EtherEditor-lint:
#        - mwext-EtherEditor-jslint
          - mwext-EtherEditor-testextensions-master

  - name: mediawiki/extensions/EmailCapture
    check:
      - mwext-EmailCapture-merge:
        - mwext-EmailCapture-jslint
        - mwext-EmailCapture-lint
    gate-and-submit:
      - mwext-EmailCapture-merge:
        - mwext-EmailCapture-jslint
        - mwext-EmailCapture-lint

  - name: mediawiki/extensions/EventLogging
    check:
      - mwext-EventLogging-merge:
        - mwext-EventLogging-jslint
        - mwext-EventLogging-pep8
        - mwext-EventLogging-lint
    gate-and-submit:
      - mwext-EventLogging-merge:
        - mwext-EventLogging-jslint
        - mwext-EventLogging-pep8
        - mwext-EventLogging-lint:
          - mwext-EventLogging-testextensions-master

  - name: mediawiki/extensions/ExpandTemplates
    check:
      - mwext-ExpandTemplates-merge:
        - mwext-ExpandTemplates-jslint
        - mwext-ExpandTemplates-lint
    gate-and-submit:
      - mwext-ExpandTemplates-merge:
        - mwext-ExpandTemplates-jslint
        - mwext-ExpandTemplates-lint

  - name: mediawiki/extensions/ExtensionDistributor
    check:
      - mwext-ExtensionDistributor-merge:
        - mwext-ExtensionDistributor-jslint
        - mwext-ExtensionDistributor-lint
    gate-and-submit:
      - mwext-ExtensionDistributor-merge:
        - mwext-ExtensionDistributor-jslint
        - mwext-ExtensionDistributor-lint

  - name: mediawiki/extensions/FeaturedFeeds
    check:
      - mwext-FeaturedFeeds-merge:
        - mwext-FeaturedFeeds-jslint
        - mwext-FeaturedFeeds-lint
    gate-and-submit:
      - mwext-FeaturedFeeds-merge:
        - mwext-FeaturedFeeds-jslint
        - mwext-FeaturedFeeds-lint

  - name: mediawiki/extensions/FormPreloadPostCache
    check:
      - mwext-FormPreloadPostCache-merge:
        - mwext-FormPreloadPostCache-lint
    gate-and-submit:
      - mwext-FormPreloadPostCache-merge:
        - mwext-FormPreloadPostCache-lint

  - name: mediawiki/extensions/FundraiserLandingPage
    check:
      - mwext-FundraiserLandingPage-merge:
        - mwext-FundraiserLandingPage-jslint
        - mwext-FundraiserLandingPage-lint
    gate-and-submit:
      - mwext-FundraiserLandingPage-merge:
        - mwext-FundraiserLandingPage-jslint
        - mwext-FundraiserLandingPage-lint

  - name: mediawiki/extensions/Gadgets
    check:
      - mwext-Gadgets-merge:
        - mwext-Gadgets-jslint
        - mwext-Gadgets-lint
    test:
      - mwext-Gadgets-merge:
        - mwext-Gadgets-jslint
        - mwext-Gadgets-lint:
          - mwext-Gadgets-testextensions-master
    gate-and-submit:
      - mwext-Gadgets-merge:
        - mwext-Gadgets-jslint
        - mwext-Gadgets-lint:
          - mwext-Gadgets-testextensions-master

  - name: mediawiki/extensions/GettingStarted
    check:
      - mwext-GettingStarted-merge:
        - mwext-GettingStarted-jslint
        - mwext-GettingStarted-lint
    gate-and-submit:
      - mwext-GettingStarted-merge:
        - mwext-GettingStarted-jslint
        - mwext-GettingStarted-lint

  - name: mediawiki/extensions/GeoCrumbs
    check:
      - mwext-GeoCrumbs-merge:
        - mwext-GeoCrumbs-jslint
        - mwext-GeoCrumbs-lint
    gate-and-submit:
      - mwext-GeoCrumbs-merge:
        - mwext-GeoCrumbs-jslint
        - mwext-GeoCrumbs-lint

  - name: mediawiki/extensions/GeoData
    check:
      - mwext-GeoData-merge:
        - mwext-GeoData-jslint
        - mwext-GeoData-lint
    gate-and-submit:
      - mwext-GeoData-merge:
        - mwext-GeoData-jslint
        - mwext-GeoData-lint:
          - mwext-GeoData-testextensions-master

  - name: mediawiki/extensions/GlobalBlocking
    check:
      - mwext-GlobalBlocking-merge:
        - mwext-GlobalBlocking-jslint
        - mwext-GlobalBlocking-lint
    gate-and-submit:
      - mwext-GlobalBlocking-merge:
        - mwext-GlobalBlocking-jslint
        - mwext-GlobalBlocking-lint

  - name: mediawiki/extensions/GlobalUsage
    check:
      - mwext-GlobalUsage-merge:
        - mwext-GlobalUsage-jslint
        - mwext-GlobalUsage-lint
    gate-and-submit:
      - mwext-GlobalUsage-merge:
        - mwext-GlobalUsage-jslint
        - mwext-GlobalUsage-lint

  - name: mediawiki/extensions/GoogleAdSense
    check:
      - mwext-GoogleAdSense-merge:
        - mwext-GoogleAdSense-jslint
        - mwext-GoogleAdSense-lint
    gate-and-submit:
      - mwext-GoogleAdSense-merge:
        - mwext-GoogleAdSense-jslint
        - mwext-GoogleAdSense-lint

  - name: mediawiki/extensions/GoogleCustomWikiSearch
    check:
      - mwext-GoogleCustomWikiSearch-merge:
        - mwext-GoogleCustomWikiSearch-jslint
        - mwext-GoogleCustomWikiSearch-lint
    gate-and-submit:
      - mwext-GoogleCustomWikiSearch-merge:
        - mwext-GoogleCustomWikiSearch-jslint
        - mwext-GoogleCustomWikiSearch-lint

  - name: mediawiki/extensions/GoogleNewsSitemap
    check:
      - mwext-GoogleNewsSitemap-merge:
        - mwext-GoogleNewsSitemap-jslint
        - mwext-GoogleNewsSitemap-lint
    gate-and-submit:
      - mwext-GoogleNewsSitemap-merge:
        - mwext-GoogleNewsSitemap-jslint
        - mwext-GoogleNewsSitemap-lint

  - name: mediawiki/extensions/GuidedTour
    check:
      - mwext-GuidedTour-merge:
        - mwext-GuidedTour-jslint
        - mwext-GuidedTour-lint
    gate-and-submit:
      - mwext-GuidedTour-merge:
        - mwext-GuidedTour-jslint
        - mwext-GuidedTour-lint

  - name: mediawiki/extensions/I18nTags
    check:
      - mwext-I18nTags-merge:
        - mwext-I18nTags-jslint
        - mwext-I18nTags-lint
    gate-and-submit:
      - mwext-I18nTags-merge:
        - mwext-I18nTags-jslint
        - mwext-I18nTags-lint

  - name: mediawiki/extensions/ImageMap
    check:
      - mwext-ImageMap-merge:
        - mwext-ImageMap-jslint
        - mwext-ImageMap-lint
    gate-and-submit:
      - mwext-ImageMap-merge:
        - mwext-ImageMap-jslint
        - mwext-ImageMap-lint

  - name: mediawiki/extensions/InputBox
    check:
      - mwext-InputBox-merge:
        - mwext-InputBox-jslint
        - mwext-InputBox-lint
    gate-and-submit:
      - mwext-InputBox-merge:
        - mwext-InputBox-jslint
        - mwext-InputBox-lint

  - name: mediawiki/extensions/Insider
    check:
      - mwext-Insider-merge:
        - mwext-Insider-jslint
        - mwext-Insider-lint
    gate-and-submit:
      - mwext-Insider-merge:
        - mwext-Insider-jslint
        - mwext-Insider-lint

  - name: mediawiki/extensions/Interwiki
    check:
      - mwext-Interwiki-merge:
        - mwext-Interwiki-jslint
        - mwext-Interwiki-lint
    gate-and-submit:
      - mwext-Interwiki-merge:
        - mwext-Interwiki-jslint
        - mwext-Interwiki-lint

  - name: mediawiki/extensions/intersection
    check:
      - mwext-intersection-merge:
        - mwext-intersection-jslint
        - mwext-intersection-lint
    gate-and-submit:
      - mwext-intersection-merge:
        - mwext-intersection-jslint
        - mwext-intersection-lint

  - name: mediawiki/extensions/JsonData
    check:
      - mwext-JsonData-merge:
        - mwext-JsonData-jslint
        - mwext-JsonData-lint
    test:
      - mwext-JsonData-merge:
        - mwext-JsonData-jslint
        - mwext-JsonData-lint:
          - mwext-JsonData-testextensions-master
    gate-and-submit:
      - mwext-JsonData-merge:
        - mwext-JsonData-jslint
        - mwext-JsonData-lint:
          - mwext-JsonData-testextensions-master

  - name: mediawiki/extensions/LabeledSectionTransclusion
    check:
      - mwext-LabeledSectionTransclusion-merge:
        - mwext-LabeledSectionTransclusion-jslint
        - mwext-LabeledSectionTransclusion-lint
    gate-and-submit:
      - mwext-LabeledSectionTransclusion-merge:
        - mwext-LabeledSectionTransclusion-jslint
        - mwext-LabeledSectionTransclusion-lint:
          - mwext-LabeledSectionTransclusion-testextensions-master

  - name: mediawiki/extensions/LandingCheck
    check:
      - mwext-LandingCheck-merge:
        - mwext-LandingCheck-jslint
        - mwext-LandingCheck-lint
    gate-and-submit:
      - mwext-LandingCheck-merge:
        - mwext-LandingCheck-jslint
        - mwext-LandingCheck-lint

  - name: mediawiki/extensions/LastModified
    check:
      - mwext-LastModified-merge:
        - mwext-LastModified-jslint
        - mwext-LastModified-lint
    gate-and-submit:
      - mwext-LastModified-merge:
        - mwext-LastModified-jslint
        - mwext-LastModified-lint

  - name: mediawiki/extensions/LdapAuthentication
    check:
      - mwext-LdapAuthentication-merge:
        - mwext-LdapAuthentication-jslint
        - mwext-LdapAuthentication-lint
    gate-and-submit:
      - mwext-LdapAuthentication-merge:
        - mwext-LdapAuthentication-jslint
        - mwext-LdapAuthentication-lint

  - name: mediawiki/extensions/LiquidThreads
    check:
      - mwext-LiquidThreads-merge:
        - mwext-LiquidThreads-jslint
        - mwext-LiquidThreads-lint
    gate-and-submit:
      - mwext-LiquidThreads-merge:
        - mwext-LiquidThreads-jslint
        - mwext-LiquidThreads-lint
# No unit tests for now :(
#
  - name: mediawiki/extensions/Listings
    check:
      - mwext-Listings-merge:
        - mwext-Listings-jslint
        - mwext-Listings-lint
    gate-and-submit:
      - mwext-Listings-merge:
        - mwext-Listings-jslint
        - mwext-Listings-lint

  - name: mediawiki/extensions/LocalisationUpdate
    check:
      - mwext-LocalisationUpdate-merge:
        - mwext-LocalisationUpdate-jslint
        - mwext-LocalisationUpdate-lint
    gate-and-submit:
      - mwext-LocalisationUpdate-merge:
        - mwext-LocalisationUpdate-jslint
        - mwext-LocalisationUpdate-lint

  - name: mediawiki/extensions/Math
    check:
      - mwext-Math-merge:
        - mwext-Math-jslint
        - mwext-Math-lint
    gate-and-submit:
      - mwext-Math-merge:
        - mwext-Math-jslint
        - mwext-Math-lint

  - name: mediawiki/extensions/Maps
    check:
      - mwext-Maps-merge:
        - mwext-Maps-jslint
        - mwext-Maps-lint
    test:
      - mwext-Maps-merge:
        - mwext-Maps-jslint
        - mwext-Maps-lint:
          - mwext-Maps-testextensions-master
    gate-and-submit:
      - mwext-Maps-merge:
        - mwext-Maps-jslint
        - mwext-Maps-lint:
          - mwext-Maps-testextensions-master

  - name: mediawiki/extensions/MapSources
    check:
      - mwext-MapSources-merge:
        - mwext-MapSources-jslint
        - mwext-MapSources-lint
    gate-and-submit:
      - mwext-MapSources-merge:
        - mwext-MapSources-jslint
        - mwext-MapSources-lint

  - name: mediawiki/extensions/MarkAsHelpful
    check:
      - mwext-MarkAsHelpful-merge:
        - mwext-MarkAsHelpful-jslint
        - mwext-MarkAsHelpful-lint
    gate-and-submit:
      - mwext-MarkAsHelpful-merge:
        - mwext-MarkAsHelpful-jslint
        - mwext-MarkAsHelpful-lint

  - name: mediawiki/extensions/MobileFrontend
    check:
      - mwext-MobileFrontend-merge:
        - mwext-MobileFrontend-lint
        - mwext-MobileFrontend-jslint
    gate-and-submit:
      - mwext-MobileFrontend-merge:
        - mwext-MobileFrontend-jslint
        - mwext-MobileFrontend-lint:
          - mwext-MobileFrontend-testextensions-master

  - name: mediawiki/extensions/MoodBar
    check:
      - mwext-MoodBar-merge:
        - mwext-MoodBar-lint
        - mwext-MoodBar-jslint
    gate-and-submit:
      - mwext-MoodBar-merge:
        - mwext-MoodBar-jslint
        - mwext-MoodBar-lint

  - name: mediawiki/extensions/MultiMaps
    check:
      - mwext-MultiMaps-merge:
        - mwext-MultiMaps-lint
        - mwext-MultiMaps-jslint
    test:
      - mwext-MultiMaps-merge:
        - mwext-MultiMaps-jslint
        - mwext-MultiMaps-lint:
          - mwext-MultiMaps-testextensions-master
    gate-and-submit:
      - mwext-MultiMaps-merge:
        - mwext-MultiMaps-jslint
        - mwext-MultiMaps-lint:
          - mwext-MultiMaps-testextensions-master

  - name: mediawiki/extensions/MwEmbedSupport
    check:
      - mwext-MwEmbedSupport-merge:
        - mwext-MwEmbedSupport-lint
        - mwext-MwEmbedSupport-jslint
    gate-and-submit:
      - mwext-MwEmbedSupport-merge:
        - mwext-MwEmbedSupport-jslint
        - mwext-MwEmbedSupport-lint

  - name: mediawiki/extensions/MWSearch
    check:
      - mwext-MWSearch-merge:
        - mwext-MWSearch-lint
        - mwext-MWSearch-jslint
    gate-and-submit:
      - mwext-MWSearch-merge:
        - mwext-MWSearch-jslint
        - mwext-MWSearch-lint

  # TODO: add qunit
  - name: mediawiki/extensions/Narayam
    check:
      - mwext-Narayam-merge:
        - mwext-Narayam-jslint
        - mwext-Narayam-lint
    gate-and-submit:
      - mwext-Narayam-merge:
        - mwext-Narayam-jslint
        - mwext-Narayam-lint

  - name: mediawiki/extensions/NavigationTiming
    check:
      - mwext-NavigationTiming-merge:
        - mwext-NavigationTiming-jslint
        - mwext-NavigationTiming-lint
    gate-and-submit:
      - mwext-NavigationTiming-merge:
        - mwext-NavigationTiming-jslint
        - mwext-NavigationTiming-lint

  - name: mediawiki/extensions/NewUserMessage
    check:
      - mwext-NewUserMessage-merge:
        - mwext-NewUserMessage-jslint
        - mwext-NewUserMessage-lint
    gate-and-submit:
      - mwext-NewUserMessage-merge:
        - mwext-NewUserMessage-jslint
        - mwext-NewUserMessage-lint

  - name: mediawiki/extensions/Nuke
    check:
      - mwext-Nuke-merge:
        - mwext-Nuke-jslint
        - mwext-Nuke-lint
    gate-and-submit:
      - mwext-Nuke-merge:
        - mwext-Nuke-jslint
        - mwext-Nuke-lint

  - name: mediawiki/extensions/OATHAuth
    check:
      - mwext-OATHAuth-merge:
        - mwext-OATHAuth-jslint
        - mwext-OATHAuth-lint
    gate-and-submit:
      - mwext-OATHAuth-merge:
        - mwext-OATHAuth-jslint
        - mwext-OATHAuth-lint

  - name: mediawiki/extensions/OAI
    check:
      - mwext-OAI-merge:
        - mwext-OAI-lint
    gate-and-submit:
      - mwext-OAI-merge:
        - mwext-OAI-lint

  - name: mediawiki/extensions/Offline
    check:
      - mwext-Offline-merge:
        - mwext-Offline-jslint
        - mwext-Offline-lint
        - mwext-Offline-pep8
    gate-and-submit:
      - mwext-Offline-merge:
        - mwext-Offline-jslint
        - mwext-Offline-lint
        - mwext-Offline-pep8

  - name: mediawiki/extensions/OpenID
    check:
      - mwext-OpenID-merge:
        - mwext-OpenID-jslint
        - mwext-OpenID-lint
    gate-and-submit:
      - mwext-OpenID-merge:
        - mwext-OpenID-jslint
        - mwext-OpenID-lint

  - name: mediawiki/extensions/OpenSearchXml
    check:
      - mwext-OpenSearchXml-merge:
        - mwext-OpenSearchXml-lint
    gate-and-submit:
      - mwext-OpenSearchXml-merge:
        - mwext-OpenSearchXml-lint

  - name: mediawiki/extensions/OpenStackManager
    check:
      - mwext-OpenStackManager-merge:
        - mwext-OpenStackManager-jslint
        - mwext-OpenStackManager-lint
        - mwext-OpenStackManager-pep8
    gate-and-submit:
      - mwext-OpenStackManager-merge:
        - mwext-OpenStackManager-jslint
        - mwext-OpenStackManager-pep8
        - mwext-OpenStackManager-lint
# No unit tests for now :(
#        - mwext-OpenStackManager-lint:
#          - mwext-OpenStackManager-testextensions-master

  - name: mediawiki/extensions/PagedTiffHandler
    check:
      - mwext-PagedTiffHandler-merge:
        - mwext-PagedTiffHandler-jslint
        - mwext-PagedTiffHandler-lint
    test:
      - mwext-PagedTiffHandler-merge:
        - mwext-PagedTiffHandler-jslint
        - mwext-PagedTiffHandler-lint:
          - mwext-PagedTiffHandler-testextensions-master
    gate-and-submit:
      - mwext-PagedTiffHandler-merge:
        - mwext-PagedTiffHandler-jslint
        - mwext-PagedTiffHandler-lint:
          - mwext-PagedTiffHandler-testextensions-master

  - name: mediawiki/extensions/PageImages
    check:
      - mwext-PageImages-merge:
        - mwext-PageImages-lint
        - mwext-PageImages-jslint
    gate-and-submit:
      - mwext-PageImages-merge:
        - mwext-PageImages-lint
        - mwext-PageImages-jslint

  - name: mediawiki/extensions/PageTriage
    check:
      - mwext-PageTriage-merge:
        - mwext-PageTriage-jslint
        - mwext-PageTriage-lint
    test:
      - mwext-PageTriage-merge:
        - mwext-PageTriage-jslint
        - mwext-PageTriage-lint:
          - mwext-PageTriage-testextensions-master
    gate-and-submit:
      - mwext-PageTriage-merge:
        - mwext-PageTriage-jslint
        - mwext-PageTriage-lint:
          - mwext-PageTriage-testextensions-master

  - name: mediawiki/extensions/ParserFunctions
    check:
      - mwext-ParserFunctions-merge:
        - mwext-ParserFunctions-jslint
        - mwext-ParserFunctions-lint
    gate-and-submit:
      - mwext-ParserFunctions-merge:
        - mwext-ParserFunctions-jslint
        - mwext-ParserFunctions-lint:
          - mwext-ParserFunctions-testextensions-master

  - name: mediawiki/extensions/ParserHooks
    check:
      - mwext-ParserHooks-merge:
        - mwext-ParserHooks-jslint
        - mwext-ParserHooks-lint
    test:
      - mwext-ParserHooks-merge:
        - mwext-ParserHooks-jslint
        - mwext-ParserHooks-lint:
          - mwext-ParserHooks-testextensions-master
    gate-and-submit:
      - mwext-ParserHooks-merge:
        - mwext-ParserHooks-jslint
        - mwext-ParserHooks-lint:
          - mwext-ParserHooks-testextensions-master

  # Parsoid is mostly JavaScript so we just run jsHint (and merge of course)
  - name: mediawiki/extensions/Parsoid
    check:
      - mwext-Parsoid-merge:
        - mwext-Parsoid-jslint
    test:
      - mwext-Parsoid-merge:
        - mwext-Parsoid-jslint
        - Parsoid-parserTests
        - parsoid-testCommit
        - parsoid-server-sanity-check
        - parsoid-parse-tool-check
        - parsoid-roundtrip-test-check
    gate-and-submit:
      - mwext-Parsoid-merge:
        - mwext-Parsoid-jslint
        - Parsoid-parserTests
    postmerge:
      - Parsoid-regression
      - parsoid-trackRegressions

  - name: mediawiki/extensions/PdfHandler
    check:
      - mwext-PdfHandler-merge:
        - mwext-PdfHandler-lint
        - mwext-PdfHandler-jslint
    gate-and-submit:
      - mwext-PdfHandler-merge:
        - mwext-PdfHandler-lint
        - mwext-PdfHandler-jslint

  - name: mediawiki/extensions/PHPExcel
    check:
      - mwext-PHPExcel-merge:
        - mwext-PHPExcel-lint
        - mwext-PHPExcel-jslint
    gate-and-submit:
      - mwext-PHPExcel-merge:
        - mwext-PHPExcel-lint
        - mwext-PHPExcel-jslint

  - name: mediawiki/extensions/Poem
    check:
      - mwext-Poem-merge:
        - mwext-Poem-jslint
        - mwext-Poem-lint
    gate-and-submit:
      - mwext-Poem-merge:
        - mwext-Poem-jslint
        - mwext-Poem-lint

  - name: mediawiki/extensions/PoolCounter
    check:
      - mwext-PoolCounter-merge:
        - mwext-PoolCounter-jslint
        - mwext-PoolCounter-lint
    gate-and-submit:
      - mwext-PoolCounter-merge:
        - mwext-PoolCounter-jslint
        - mwext-PoolCounter-lint

  - name: mediawiki/extensions/PostEdit
    check:
      - mwext-PostEdit-merge:
        - mwext-PostEdit-lint
        - mwext-PostEdit-jslint
    gate-and-submit:
      - mwext-PostEdit-merge:
        - mwext-PostEdit-lint
        - mwext-PostEdit-jslint

  - name: mediawiki/extensions/ProofreadPage
    check:
      - mwext-ProofreadPage-merge:
        - mwext-ProofreadPage-lint
        - mwext-ProofreadPage-jslint
    gate-and-submit:
      - mwext-ProofreadPage-merge:
        - mwext-ProofreadPage-lint
        - mwext-ProofreadPage-jslint

  - name: mediawiki/extensions/Quiz
    check:
      - mwext-Quiz-merge:
        - mwext-Quiz-lint
        - mwext-Quiz-jslint
    gate-and-submit:
      - mwext-Quiz-merge:
        - mwext-Quiz-lint
        - mwext-Quiz-jslint

  - name: mediawiki/extensions/RandomRootPage
    check:
      - mwext-RandomRootPage-merge:
        - mwext-RandomRootPage-lint
        - mwext-RandomRootPage-jslint
    gate-and-submit:
      - mwext-RandomRootPage-merge:
        - mwext-RandomRootPage-lint
        - mwext-RandomRootPage-jslint

  - name: mediawiki/extensions/ReaderFeedback
    check:
      - mwext-ReaderFeedback-merge:
        - mwext-ReaderFeedback-lint
        - mwext-ReaderFeedback-jslint
    gate-and-submit:
      - mwext-ReaderFeedback-merge:
        - mwext-ReaderFeedback-lint
        - mwext-ReaderFeedback-jslint

  - name: mediawiki/extensions/RelatedArticles
    check:
      - mwext-RelatedArticles-merge:
#        - mwext-RelatedArticles-jslint
        - mwext-RelatedArticles-lint
    gate-and-submit:
      - mwext-RelatedArticles-merge:
#        - mwext-RelatedArticles-jslint
        - mwext-RelatedArticles-lint

  - name: mediawiki/extensions/RelatedSites
    check:
      - mwext-RelatedSites-merge:
#        - mwext-RelatedSites-jslint
        - mwext-RelatedSites-lint
    gate-and-submit:
      - mwext-RelatedSites-merge:
#        - mwext-RelatedSites-jslint
        - mwext-RelatedSites-lint

  - name: mediawiki/extensions/Renameuser
    check:
      - mwext-Renameuser-merge:
        - mwext-Renameuser-lint
        - mwext-Renameuser-jslint
    gate-and-submit:
      - mwext-Renameuser-merge:
        - mwext-Renameuser-jslint
        - mwext-Renameuser-lint
# No Unit tests yet :(
#        - mwext-Renameuser-lint:
#          - mwext-Renameuser-testextensions-master

  - name: mediawiki/extensions/ReplaceText
    check:
      - mwext-ReplaceText-merge:
        - mwext-ReplaceText-jslint
        - mwext-ReplaceText-lint
    gate-and-submit:
      - mwext-ReplaceText-merge:
        - mwext-ReplaceText-jslint
        - mwext-ReplaceText-lint

  - name: mediawiki/extensions/RSS
    check:
      - mwext-RSS-merge:
#        - mwext-RSS-jslint
        - mwext-RSS-lint
    gate-and-submit:
      - mwext-RSS-merge:
#        - mwext-RSS-jslint
        - mwext-RSS-lint

  - name: mediawiki/extensions/Score
    check:
      - mwext-Score-merge:
        - mwext-Score-lint
        - mwext-Score-jslint
    gate-and-submit:
      - mwext-Score-merge:
        - mwext-Score-jslint
        - mwext-Score-lint
# No Unit tests yet :(
#        - mwext-Score-lint:
#          - mwext-Score-testextensions-master
#
  - name: mediawiki/extensions/SearchExtraNS
    check:
      - mwext-SearchExtraNS-merge:
#        - mwext-SearchExtraNS-jslint
        - mwext-SearchExtraNS-lint
    gate-and-submit:
      - mwext-SearchExtraNS-merge:
#        - mwext-SearchExtraNS-jslint
        - mwext-SearchExtraNS-lint

  - name: mediawiki/extensions/SecurePoll
    check:
      - mwext-SecurePoll-merge:
        - mwext-SecurePoll-lint
        - mwext-SecurePoll-jslint
    gate-and-submit:
      - mwext-SecurePoll-merge:
        - mwext-SecurePoll-jslint
        - mwext-SecurePoll-lint

# semantic extensions
  - name: mediawiki/extensions/SemanticACL
    check:
     - mwext-SemanticACL-merge:
       - mwext-SemanticACL-jslint
       - mwext-SemanticACL-lint
    gate-and-submit:
     - mwext-SemanticACL-merge:
       - mwext-SemanticACL-jslint
       - mwext-SemanticACL-lint

  - name: mediawiki/extensions/SemanticBundle
    check:
     - mwext-SemanticBundle-merge:
       - mwext-SemanticBundle-jslint
       - mwext-SemanticBundle-lint
       - mwext-SemanticBundle-pep8
    gate-and-submit:
     - mwext-SemanticBundle-merge:
       - mwext-SemanticBundle-jslint
       - mwext-SemanticBundle-lint
       - mwext-SemanticBundle-pep8

  - name: mediawiki/extensions/SemanticCompoundQueries
    check:
     - mwext-SemanticCompoundQueries-merge:
       - mwext-SemanticCompoundQueries-jslint
       - mwext-SemanticCompoundQueries-lint
    gate-and-submit:
     - mwext-SemanticCompoundQueries-merge:
       - mwext-SemanticCompoundQueries-jslint
       - mwext-SemanticCompoundQueries-lint

  - name: mediawiki/extensions/SemanticDrilldown
    check:
     - mwext-SemanticDrilldown-merge:
       - mwext-SemanticDrilldown-jslint
       - mwext-SemanticDrilldown-lint
    gate-and-submit:
     - mwext-SemanticDrilldown-merge:
       - mwext-SemanticDrilldown-jslint
       - mwext-SemanticDrilldown-lint

  - name: mediawiki/extensions/SemanticExpressiveness
    check:
     - mwext-SemanticExpressiveness-merge:
       - mwext-SemanticExpressiveness-jslint
       - mwext-SemanticExpressiveness-lint
    gate-and-submit:
     - mwext-SemanticExpressiveness-merge:
       - mwext-SemanticExpressiveness-jslint
       - mwext-SemanticExpressiveness-lint

  - name: mediawiki/extensions/SemanticExtraSpecialProperties
    check:
     - mwext-SemanticExtraSpecialProperties-merge:
       - mwext-SemanticExtraSpecialProperties-jslint
       - mwext-SemanticExtraSpecialProperties-lint
    gate-and-submit:
     - mwext-SemanticExtraSpecialProperties-merge:
       - mwext-SemanticExtraSpecialProperties-jslint
       - mwext-SemanticExtraSpecialProperties-lint

  - name: mediawiki/extensions/SemanticForms
    check:
     - mwext-SemanticForms-merge:
       - mwext-SemanticForms-jslint
       - mwext-SemanticForms-lint
    gate-and-submit:
     - mwext-SemanticForms-merge:
       - mwext-SemanticForms-jslint
       - mwext-SemanticForms-lint

  - name: mediawiki/extensions/SemanticFormsInputs
    check:
     - mwext-SemanticFormsInputs-merge:
       - mwext-SemanticFormsInputs-jslint
       - mwext-SemanticFormsInputs-lint
    gate-and-submit:
     - mwext-SemanticFormsInputs-merge:
       - mwext-SemanticFormsInputs-jslint
       - mwext-SemanticFormsInputs-lint

  - name: mediawiki/extensions/SemanticGenealogy
    check:
     - mwext-SemanticGenealogy-merge:
       - mwext-SemanticGenealogy-jslint
       - mwext-SemanticGenealogy-lint
    gate-and-submit:
     - mwext-SemanticGenealogy-merge:
       - mwext-SemanticGenealogy-jslint
       - mwext-SemanticGenealogy-lint

  - name: mediawiki/extensions/SemanticGlossary
    check:
     - mwext-SemanticGlossary-merge:
       - mwext-SemanticGlossary-jslint
       - mwext-SemanticGlossary-lint
    gate-and-submit:
     - mwext-SemanticGlossary-merge:
       - mwext-SemanticGlossary-jslint
       - mwext-SemanticGlossary-lint

  - name: mediawiki/extensions/SemanticImageAnnotator
    check:
     - mwext-SemanticImageAnnotator-merge:
       - mwext-SemanticImageAnnotator-jslint
       - mwext-SemanticImageAnnotator-lint
    gate-and-submit:
     - mwext-SemanticImageAnnotator-merge:
       - mwext-SemanticImageAnnotator-jslint
       - mwext-SemanticImageAnnotator-lint

  - name: mediawiki/extensions/SemanticImageInput
    check:
     - mwext-SemanticImageInput-merge:
       - mwext-SemanticImageInput-jslint
       - mwext-SemanticImageInput-lint
    gate-and-submit:
     - mwext-SemanticImageInput-merge:
       - mwext-SemanticImageInput-jslint
       - mwext-SemanticImageInput-lint

  - name: mediawiki/extensions/SemanticInternalObjects
    check:
     - mwext-SemanticInternalObjects-merge:
       - mwext-SemanticInternalObjects-jslint
       - mwext-SemanticInternalObjects-lint
    gate-and-submit:
     - mwext-SemanticInternalObjects-merge:
       - mwext-SemanticInternalObjects-jslint
       - mwext-SemanticInternalObjects-lint

  - name: mediawiki/extensions/SemanticMaps
    check:
     - mwext-SemanticMaps-merge:
       - mwext-SemanticMaps-jslint
       - mwext-SemanticMaps-lint
    gate-and-submit:
     - mwext-SemanticMaps-merge:
       - mwext-SemanticMaps-jslint
       - mwext-SemanticMaps-lint

  - name: mediawiki/extensions/SemanticMediaWiki
    check:
     - mwext-SemanticMediaWiki-merge:
       - mwext-SemanticMediaWiki-jslint
       - mwext-SemanticMediaWiki-lint
    test:
     - mwext-SemanticMediaWiki-merge:
       - mwext-SemanticMediaWiki-jslint
       - mwext-SemanticMediaWiki-lint:
         - mwext-SemanticMediaWiki-testextensions-master
    gate-and-submit:
     - mwext-SemanticMediaWiki-merge:
       - mwext-SemanticMediaWiki-jslint
       - mwext-SemanticMediaWiki-lint

  - name: mediawiki/extensions/SemanticPageMaker
    check:
     - mwext-SemanticPageMaker-merge:
       - mwext-SemanticPageMaker-jslint
       - mwext-SemanticPageMaker-lint
    gate-and-submit:
     - mwext-SemanticPageMaker-merge:
       - mwext-SemanticPageMaker-jslint
       - mwext-SemanticPageMaker-lint

  - name: mediawiki/extensions/SemanticPageSeries
    check:
     - mwext-SemanticPageSeries-merge:
       - mwext-SemanticPageSeries-jslint
       - mwext-SemanticPageSeries-lint
    gate-and-submit:
     - mwext-SemanticPageSeries-merge:
       - mwext-SemanticPageSeries-jslint
       - mwext-SemanticPageSeries-lint

  - name: mediawiki/extensions/SemanticResultFormats
    check:
     - mwext-SemanticResultFormats-merge:
       - mwext-SemanticResultFormats-jslint
       - mwext-SemanticResultFormats-lint
    gate-and-submit:
     - mwext-SemanticResultFormats-merge:
       - mwext-SemanticResultFormats-jslint
       - mwext-SemanticResultFormats-lint

  - name: mediawiki/extensions/SemanticSignup
    check:
     - mwext-SemanticSignup-merge:
       - mwext-SemanticSignup-jslint
       - mwext-SemanticSignup-lint
    gate-and-submit:
     - mwext-SemanticSignup-merge:
       - mwext-SemanticSignup-jslint
       - mwext-SemanticSignup-lint

  - name: mediawiki/extensions/SemanticTasks
    check:
     - mwext-SemanticTasks-merge:
       - mwext-SemanticTasks-jslint
       - mwext-SemanticTasks-lint
    gate-and-submit:
     - mwext-SemanticTasks-merge:
       - mwext-SemanticTasks-jslint
       - mwext-SemanticTasks-lint

  - name: mediawiki/extensions/SemanticTitle
    check:
     - mwext-SemanticTitle-merge:
       - mwext-SemanticTitle-jslint
       - mwext-SemanticTitle-lint
    gate-and-submit:
     - mwext-SemanticTitle-merge:
       - mwext-SemanticTitle-jslint
       - mwext-SemanticTitle-lint

  - name: mediawiki/extensions/SemanticUpdateOnPurge
    check:
     - mwext-SemanticUpdateOnPurge-merge:
       - mwext-SemanticUpdateOnPurge-jslint
       - mwext-SemanticUpdateOnPurge-lint
    gate-and-submit:
     - mwext-SemanticUpdateOnPurge-merge:
       - mwext-SemanticUpdateOnPurge-jslint
       - mwext-SemanticUpdateOnPurge-lint

  - name: mediawiki/extensions/SemanticWatchlist
    check:
     - mwext-SemanticWatchlist-merge:
       - mwext-SemanticWatchlist-jslint
       - mwext-SemanticWatchlist-lint
    gate-and-submit:
     - mwext-SemanticWatchlist-merge:
       - mwext-SemanticWatchlist-jslint
       - mwext-SemanticWatchlist-lint

  - name: mediawiki/extensions/Scribunto
    check:
      - mwext-Scribunto-merge:
        - mwext-Scribunto-jslint
        - mwext-Scribunto-lint
    test:
      - mwext-Scribunto-merge:
        - mwext-Scribunto-jslint
        - mwext-Scribunto-lint:
          - mwext-Scribunto-testextensions-master
    gate-and-submit:
      - mwext-Scribunto-merge:
        - mwext-Scribunto-jslint
        - mwext-Scribunto-lint

  - name: mediawiki/extensions/ShortUrl
    check:
      - mwext-ShortUrl-merge:
        - mwext-ShortUrl-jslint
        - mwext-ShortUrl-lint
    gate-and-submit:
      - mwext-ShortUrl-merge:
        - mwext-ShortUrl-jslint
        - mwext-ShortUrl-lint

  - name: mediawiki/extensions/SimpleAntiSpam
    check:
      - mwext-SimpleAntiSpam-merge:
#        - mwext-SimpleAntiSpam-jslint
        - mwext-SimpleAntiSpam-lint
    gate-and-submit:
      - mwext-SimpleAntiSpam-merge:
#        - mwext-SimpleAntiSpam-jslint
        - mwext-SimpleAntiSpam-lint

  - name: mediawiki/extensions/SiteMatrix
    check:
      - mwext-SiteMatrix-merge:
#        - mwext-SiteMatrix-jslint
        - mwext-SiteMatrix-lint
    gate-and-submit:
      - mwext-SiteMatrix-merge:
#        - mwext-SiteMatrix-jslint
        - mwext-SiteMatrix-lint

  - name: mediawiki/extensions/SkinPerPage
    check:
      - mwext-SkinPerPage-merge:
#        - mwext-SkinPerPage-jslint
        - mwext-SkinPerPage-lint
    gate-and-submit:
      - mwext-SkinPerPage-merge:
#        - mwext-SkinPerPage-jslint
        - mwext-SkinPerPage-lint

  - name: mediawiki/extensions/skins
    check:
      - mwext-skins-merge:
        - mwext-skins-jslint
        - mwext-skins-lint
    gate-and-submit:
      - mwext-skins-merge:
        - mwext-skins-jslint
        - mwext-skins-lint

  - name: mediawiki/extensions/Solarium
    check:
      - mwext-Solarium-merge:
        - mwext-Solarium-jslint
        - mwext-Solarium-lint
    gate-and-submit:
      - mwext-Solarium-merge:
        - mwext-Solarium-jslint
        - mwext-Solarium-lint

  - name: mediawiki/extensions/SpamBlacklist
    check:
      - mwext-SpamBlacklist-merge:
        - mwext-SpamBlacklist-jslint
        - mwext-SpamBlacklist-lint
    gate-and-submit:
      - mwext-SpamBlacklist-merge:
        - mwext-SpamBlacklist-jslint
        - mwext-SpamBlacklist-lint

  - name: mediawiki/extensions/StrategyWiki
    check:
      - mwext-StrategyWiki-merge:
        - mwext-StrategyWiki-jslint
        - mwext-StrategyWiki-lint
    gate-and-submit:
      - mwext-StrategyWiki-merge:
        - mwext-StrategyWiki-jslint
        - mwext-StrategyWiki-lint

  - name: mediawiki/extensions/SubPageList3
    check:
      - mwext-SubPageList3-merge:
#        - mwext-SubPageList3-jslint
        - mwext-SubPageList3-lint
    gate-and-submit:
      - mwext-SubPageList3-merge:
#        - mwext-SubPageList3-jslint
        - mwext-SubPageList3-lint

  - name: mediawiki/extensions/SubpageSortkey
    check:
      - mwext-SubpageSortkey-merge:
        - mwext-SubpageSortkey-jslint
        - mwext-SubpageSortkey-lint
    gate-and-submit:
      - mwext-SubpageSortkey-merge:
        - mwext-SubpageSortkey-jslint
        - mwext-SubpageSortkey-lint

  - name: mediawiki/extensions/Sudo
    check:
      - mwext-Sudo-merge:
        - mwext-Sudo-jslint
        - mwext-Sudo-lint
    gate-and-submit:
      - mwext-Sudo-merge:
        - mwext-Sudo-jslint
        - mwext-Sudo-lint

  - name: mediawiki/extensions/Survey
    check:
      - mwext-Survey-merge:
        - mwext-Survey-jslint
        - mwext-Survey-lint
    test:
      - mwext-Survey-merge:
        - mwext-Survey-jslint
        - mwext-Survey-lint:
          - mwext-Survey-testextensions-master
    gate-and-submit:
      - mwext-Survey-merge:
        - mwext-Survey-jslint
        - mwext-Survey-lint:
          - mwext-Survey-testextensions-master

  - name: mediawiki/extensions/SpamBlacklist
    check:
      - mwext-SpamBlacklist-merge:
        - mwext-SpamBlacklist-jslint
        - mwext-SpamBlacklist-lint
    gate-and-submit:
      - mwext-SpamBlacklist-merge:
        - mwext-SpamBlacklist-jslint
        - mwext-SpamBlacklist-lint

  - name: mediawiki/extensions/SVGEdit
    check:
      - mwext-SVGEdit-merge:
        - mwext-SVGEdit-jslint
        - mwext-SVGEdit-lint
    gate-and-submit:
      - mwext-SVGEdit-merge:
        - mwext-SVGEdit-jslint
        - mwext-SVGEdit-lint
# No PHPUnit tests for now so simply disable triggering them
# If you want to enable PHPUnit tests, delete the line above
# and uncomment the two lines below:
#        - mwext-SVGEdit-lint:
#          - mwext-SVGEdit-testextensions-master

  - name: mediawiki/extensions/TemplateSandbox
    check:
      - mwext-TemplateSandbox-merge:
        - mwext-TemplateSandbox-jslint
        - mwext-TemplateSandbox-lint
    gate-and-submit:
      - mwext-TemplateSandbox-merge:
        - mwext-TemplateSandbox-jslint
        - mwext-TemplateSandbox-lint

  - name: mediawiki/extensions/SyntaxHighlight_GeSHi
    check:
      - mwext-SyntaxHighlight_GeSHi-merge:
        - mwext-SyntaxHighlight_GeSHi-jslint
        - mwext-SyntaxHighlight_GeSHi-lint
    gate-and-submit:
      - mwext-SyntaxHighlight_GeSHi-merge:
        - mwext-SyntaxHighlight_GeSHi-jslint
        - mwext-SyntaxHighlight_GeSHi-lint

  - name: mediawiki/extensions/TemplateData
    check:
      - mwext-TemplateData-merge:
        - mwext-TemplateData-jslint
        - mwext-TemplateData-lint
    gate-and-submit:
      - mwext-TemplateData-merge:
        - mwext-TemplateData-jslint
        - mwext-TemplateData-lint

  - name: mediawiki/extensions/Thanks
    check:
      - mwext-Thanks-merge:
        - mwext-Thanks-jslint
        - mwext-Thanks-lint
    gate-and-submit:
      - mwext-Thanks-merge:
        - mwext-Thanks-jslint
        - mwext-Thanks-lint

  - name: mediawiki/extensions/TimedMediaHandler
    check:
      - mwext-TimedMediaHandler-merge:
        - mwext-TimedMediaHandler-jslint
        - mwext-TimedMediaHandler-lint
    gate-and-submit:
      - mwext-TimedMediaHandler-merge:
        - mwext-TimedMediaHandler-jslint
        - mwext-TimedMediaHandler-lint
# Requires the MwEmbedSupport extension :(
#        - mwext-TimedMediaHandler-lint:
#          - mwext-TimedMediaHandler-testextensions-master

  - name: mediawiki/extensions/TitleBlacklist
    check:
      - mwext-TitleBlacklist-merge:
        - mwext-TitleBlacklist-jslint
        - mwext-TitleBlacklist-lint
    gate-and-submit:
      - mwext-TitleBlacklist-merge:
        - mwext-TitleBlacklist-jslint
        - mwext-TitleBlacklist-lint:
          - mwext-TitleBlacklist-testextensions-master

  - name: mediawiki/extensions/TitleKey
    check:
      - mwext-TitleKey-merge:
        - mwext-TitleKey-jslint
        - mwext-TitleKey-lint
    gate-and-submit:
      - mwext-TitleKey-merge:
        - mwext-TitleKey-jslint
        - mwext-TitleKey-lint

  - name: mediawiki/extensions/TocTree
    check:
      - mwext-TocTree-merge:
        - mwext-TocTree-jslint
        - mwext-TocTree-lint
    gate-and-submit:
      - mwext-TocTree-merge:
        - mwext-TocTree-jslint
        - mwext-TocTree-lint

  - name: mediawiki/extensions/TorBlock
    check:
      - mwext-TorBlock-merge:
#        - mwext-TorBlock-jslint
        - mwext-TorBlock-lint
    gate-and-submit:
      - mwext-TorBlock-merge:
#        - mwext-TorBlock-jslint
        - mwext-TorBlock-lint

  - name: mediawiki/extensions/Translate
    check:
      - mwext-Translate-merge:
        - mwext-Translate-jslint
        - mwext-Translate-phpcs-HEAD
        - mwext-Translate-lint
    test:
      - mwext-Translate-merge:
        - mwext-Translate-jslint
        - mwext-Translate-phpcs-HEAD
        - mwext-Translate-lint:
          - mwext-Translate-testextensions-master
    gate-and-submit:
      - mwext-Translate-merge:
        - mwext-Translate-jslint
        - mwext-Translate-lint:
          - mwext-Translate-testextensions-master

  - name: mediawiki/extensions/TranslationNotifications
    check:
      - mwext-TranslationNotifications-merge:
        - mwext-TranslationNotifications-jslint
        - mwext-TranslationNotifications-lint
    test:
      - mwext-TranslationNotifications-merge:
        - mwext-TranslationNotifications-jslint
        - mwext-TranslationNotifications-lint:
          - mwext-TranslationNotifications-testextensions-master
    gate-and-submit:
      - mwext-TranslationNotifications-merge:
        - mwext-TranslationNotifications-jslint
        - mwext-TranslationNotifications-lint:
          - mwext-TranslationNotifications-testextensions-master

  - name: mediawiki/extensions/TrustedXFF
    check:
      - mwext-TrustedXFF-merge:
#        - mwext-TrustedXFF-jslint
        - mwext-TrustedXFF-lint
    gate-and-submit:
      - mwext-TrustedXFF-merge:
#        - mwext-TrustedXFF-jslint
        - mwext-TrustedXFF-lint

  - name: mediawiki/extensions/UnicodeConverter
    check:
      - mwext-UnicodeConverter-merge:
#        - mwext-UnicodeConverter-jslint
        - mwext-UnicodeConverter-lint
    gate-and-submit:
      - mwext-UnicodeConverter-merge:
#        - mwext-UnicodeConverter-jslint
        - mwext-UnicodeConverter-lint

  - name: mediawiki/extensions/UniversalLanguageSelector
    check:
      - mwext-UniversalLanguageSelector-merge:
#        - mwext-UniversalLanguageSelector-jslint
        - mwext-UniversalLanguageSelector-lint
    gate-and-submit:
      - mwext-UniversalLanguageSelector-merge:
#        - mwext-UniversalLanguageSelector-jslint
        - mwext-UniversalLanguageSelector-lint:
          - mwext-UniversalLanguageSelector-testextensions-master

  - name: mediawiki/extensions/UploadBlacklist
    check:
      - mwext-UploadBlacklist-merge:
        - mwext-UploadBlacklist-jslint
        - mwext-UploadBlacklist-lint
    gate-and-submit:
      - mwext-UploadBlacklist-merge:
        - mwext-UploadBlacklist-jslint
        - mwext-UploadBlacklist-lint

  - name: mediawiki/extensions/UploadWizard
    check:
      - mwext-UploadWizard-merge:
        - mwext-UploadWizard-jslint
        - mwext-UploadWizard-lint
    gate-and-submit:
      - mwext-UploadWizard-merge:
        - mwext-UploadWizard-jslint
        - mwext-UploadWizard-lint

  - name: mediawiki/extensions/UserDailyContribs
    check:
      - mwext-UserDailyContribs-merge:
        - mwext-UserDailyContribs-jslint
        - mwext-UserDailyContribs-lint
    gate-and-submit:
      - mwext-UserDailyContribs-merge:
        - mwext-UserDailyContribs-jslint
        - mwext-UserDailyContribs-lint

  - name: mediawiki/extensions/UserMerge
    check:
      - mwext-UserMerge-merge:
        - mwext-UserMerge-jslint
        - mwext-UserMerge-lint
    gate-and-submit:
      - mwext-UserMerge-merge:
        - mwext-UserMerge-jslint
        - mwext-UserMerge-lint

  - name: mediawiki/extensions/UserOptionStats
    check:
      - mwext-UserOptionStats-merge:
        - mwext-UserOptionStats-jslint
        - mwext-UserOptionStats-lint
    gate-and-submit:
      - mwext-UserOptionStats-merge:
        - mwext-UserOptionStats-jslint
        - mwext-UserOptionStats-lint

  - name: mediawiki/extensions/UserThrottle
    check:
      - mwext-UserThrottle-merge:
        - mwext-UserThrottle-jslint
        - mwext-UserThrottle-lint
    gate-and-submit:
      - mwext-UserThrottle-merge:
        - mwext-UserThrottle-jslint
        - mwext-UserThrottle-lint

  - name: mediawiki/extensions/Validator
    check:
      - mwext-Validator-merge:
        - mwext-Validator-jslint
        - mwext-Validator-lint
    test:
      - mwext-Validator-merge:
        - mwext-Validator-jslint
        - mwext-Validator-lint:
          - mwext-Validator-testextensions-master
    gate-and-submit:
      - mwext-Validator-merge:
        - mwext-Validator-jslint
        - mwext-Validator-lint:
          - mwext-Validator-testextensions-master

  - name: mediawiki/extensions/Vector
    check:
      - mwext-Vector-merge:
        - mwext-Vector-jslint
        - mwext-Vector-lint
    gate-and-submit:
      - mwext-Vector-merge:
        - mwext-Vector-jslint
        - mwext-Vector-lint

  - name: mediawiki/extensions/VipsScaler
    check:
      - mwext-VipsScaler-merge:
        - mwext-VipsScaler-jslint
        - mwext-VipsScaler-lint
    gate-and-submit:
      - mwext-VipsScaler-merge:
        - mwext-VipsScaler-jslint
        - mwext-VipsScaler-lint

  - name: mediawiki/extensions/VisualEditor
    check:
      - mwext-VisualEditor-merge:
        - mwext-VisualEditor-jslint
        - mwext-VisualEditor-lint
    gate-and-submit:
      - mwext-VisualEditor-merge:
        - mwext-VisualEditor-jslint
        - mwext-VisualEditor-lint
      # VisualEditor does not have any PHP Unit tests
      # so skip the installer and PHPUnit tests.
    postmerge:
      - mwext-VisualEditor-docgen

  - name: mediawiki/extensions/WebChat
    check:
      - mwext-WebChat-merge:
        - mwext-WebChat-jslint
        - mwext-WebChat-lint
    gate-and-submit:
      - mwext-WebChat-merge:
        - mwext-WebChat-jslint
        - mwext-WebChat-lint

  - name: mediawiki/extensions/WebFonts
    check:
      - mwext-WebFonts-merge:
        - mwext-WebFonts-jslint
        - mwext-WebFonts-lint
    gate-and-submit:
      - mwext-WebFonts-merge:
        - mwext-WebFonts-jslint
        - mwext-WebFonts-lint

  - name: mediawiki/extensions/WikiEditor
    check:
      - mwext-WikiEditor-merge:
        - mwext-WikiEditor-jslint
        - mwext-WikiEditor-lint
    gate-and-submit:
      - mwext-WikiEditor-merge:
        - mwext-WikiEditor-jslint
        - mwext-WikiEditor-lint

  - name: mediawiki/extensions/Wikibase
    check:
      - mwext-Wikibase-merge:
        - mwext-Wikibase-jslint
        - mwext-Wikibase-lint
    gate-silent:
      - mwext-Wikibase-merge:
        - mwext-Wikibase-jslint
        - mwext-Wikibase-lint:
          - mwext-Wikibase-testextensions-master

  - name: mediawiki/extensions/WikiLove
    check:
      - mwext-WikiLove-merge:
        - mwext-WikiLove-jslint
        - mwext-WikiLove-lint
    gate-silent:
      - mwext-WikiLove-merge:
        - mwext-WikiLove-jslint
        - mwext-WikiLove-lint

  - name: mediawiki/extensions/wikihiero
    check:
      - mwext-wikihiero-merge:
        - mwext-wikihiero-jslint
        - mwext-wikihiero-lint
    gate-and-submit:
      - mwext-wikihiero-merge:
        - mwext-wikihiero-jslint
        - mwext-wikihiero-lint

  - name: mediawiki/extensions/WikimediaIncubator
    check:
      - mwext-WikimediaIncubator-merge:
        - mwext-WikimediaIncubator-jslint
        - mwext-WikimediaIncubator-lint
    gate-silent:
      - mwext-WikimediaIncubator-merge:
        - mwext-WikimediaIncubator-jslint
        - mwext-WikimediaIncubator-lint

  - name: mediawiki/extensions/WikimediaMaintenance
    check:
      - mwext-WikimediaMaintenance-merge:
        - mwext-WikimediaMaintenance-jslint
        - mwext-WikimediaMaintenance-lint
    gate-and-submit:
      - mwext-WikimediaMaintenance-merge:
        - mwext-WikimediaMaintenance-jslint
        - mwext-WikimediaMaintenance-lint
# No unit tests yet :/
#        - mwext-WikimediaMaintenance-lint:
#          - mwext-WikimediaMaintenance-testextensions-master

  - name: mediawiki/extensions/WikimediaMessages
    check:
      - mwext-WikimediaMessages-merge:
        - mwext-WikimediaMessages-lint
    gate-and-submit:
      - mwext-WikimediaMessages-merge:
        - mwext-WikimediaMessages-lint

  - name: mediawiki/extensions/WikimediaShopLink
    check:
      - mwext-WikimediaShopLink-merge:
        - mwext-WikimediaShopLink-jslint
        - mwext-WikimediaShopLink-lint
    gate-silent:
      - mwext-WikimediaShopLink-merge:
        - mwext-WikimediaShopLink-jslint
        - mwext-WikimediaShopLink-lint

  - name: mediawiki/extensions/ZeroRatedMobileAccess
    check:
      - mwext-ZeroRatedMobileAccess-merge:
        - mwext-ZeroRatedMobileAccess-lint
    gate-and-submit:
      - mwext-ZeroRatedMobileAccess-merge:
        - mwext-ZeroRatedMobileAccess-lint

#### PHP Extensions ###################################################

  - name: mediawiki/php/FastStringSearch
    # no check pipeline since that runs code :-)
    test:
      - php-FastStringSearch-build
    gate-and-submit:
      - php-FastStringSearch-build

  - name: mediawiki/php/luasandbox
    # no check pipeline since that runs code :-)
    test:
      - php-luasandbox-build
    gate-and-submit:
      - php-luasandbox-build

  - name: mediawiki/php/NativePreprocessor
    # no check pipeline since that runs code :-)
    test:
      - php-NativePreprocessor-build
    gate-and-submit:
      - php-NativePreprocessor-build

  - name: mediawiki/php/wikidiff
    # no check pipeline since that runs code :-)
    test:
      - php-wikidiff-build
    gate-and-submit:
      - php-wikidiff-build

  - name: mediawiki/php/wikidiff2
    # no check pipeline since that runs code :-)
    test:
      - php-wikidiff2-build
    gate-and-submit:
      - php-wikidiff2-build

  - name: mediawiki/php/wmerrors
    # no check pipeline since that runs code :-)
    test:
      - php-wmerrors-build
    gate-and-submit:
      - php-wmerrors-build

  - name: sartoris
    check:
      - sartoris-pep8
      - sartoris-pyflakes
    gate-and-submit:
      - sartoris-pep8
      - sartoris-pyflakes

### Test repository
  - name: test/mediawiki
    check:
      - test-mediawiki-dumpenv
      - test-mediawiki-phpcs-HEAD
      - test-mediawiki-qunit
    postmerge:
      - test-mediawiki-docgen
