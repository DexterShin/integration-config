- job-template:
    name: '{name}-compile-php55'
    node: contintLabsSlave && UbuntuTrusty
    defaults: use-remoteonly-zuul
    triggers:
     - zuul
    builders:
     - shell: |
        /usr/bin/phpize5 --version
        /usr/bin/phpize5
        ./configure
        make
        make test

- job-template:
    name: '{name}-compile-hhvm'
    node: contintLabsSlave && UbuntuTrusty
    defaults: use-remoteonly-zuul
    triggers:
     - zuul
    builders:
     - shell: |
         hhvm --version
         hphpize
         cmake .
         make

# FastStringSearch PHP extension
- project:
    name: 'FastStringSearch'
    jobs:
     - '{name}-compile-php55'
     - '{name}-compile-hhvm'

# NativePreprocessor PHP extension
- project:
    name: 'NativePreprocessor'
    jobs:
     - '{name}-compile-php55'

# luasandbox PHP extension
- project:
    name: 'luasandbox'
    jobs:
     - '{name}-compile-php55'
     - '{name}-compile-hhvm'

# wikidiff PHP extension
- project:
    name: 'wikidiff'
    jobs:
     - '{name}-compile-php55'

# wikidiff2 PHP extension
- project:
    name: 'wikidiff2'
    jobs:
     - '{name}-compile-php55'
     - '{name}-compile-hhvm'

# wmerrors PHP extension
- project:
    name: 'wmerrors'
    jobs:
     - '{name}-compile-php55'
