# For test/mediawiki.git

# Simply show up all the environnement variables
- job-template:
    name: 'test-mediawiki-dumpenv'
    defaults: use-zuul
    triggers:
     - zuul
    builders:
     - shell: |
        #!/bin/bash -e
        echo "Showing up all variables using export:"
        export

- job-template:
    name: 'test-mediawiki-docgen'
    node: hasSlaveScripts
    defaults: use-zuul
    triggers:
     - zuul
    builders:
     - shell: "/var/lib/jenkins/tools/mwcore-docgen.sh"

- project:
    name: test-mediawiki
    gerrit-name: test/mediawiki
    jobs:
     - 'test-mediawiki-dumpenv'
     - '{name}-phpcs-HEAD'
     - '{name}-qunit'
     - 'test-mediawiki-docgen'
